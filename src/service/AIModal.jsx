import { GoogleGenerativeAI } from "@google/generative-ai"

// const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const apiKey = "AIzaSyBxOnanQs8jIxI8qh7SjaSB27rXdUzf7pQ"
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel plan for location: Las, Vegas for 3 days for couple with cheap budget, Give me hotel options list with hotel name, hotel address, hotel price, hotel image url, geo coordinates, ratings, description. Suggest itinerary with place name, place details, place image url, ticket pricing, geo coordinates. Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotels\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"hotel_price\": \"Starting from $40/night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/5c/79/6e/circus-circus-hotel-casino.jpg?w=1200&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1266,\n        \"longitude\": -115.1670\n      },\n      \"ratings\": 3.5,\n      \"description\": \"Offers affordable rooms, a midway, and is located on the Strip. Not the fanciest, but great for budget travelers.\"\n    },\n    {\n      \"hotel_name\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotel_address\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"hotel_price\": \"Starting from $30/night\",\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/27/e7/12/7a/oyo-hotel-and-casino-las.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1016,\n        \"longitude\": -115.1674\n      },\n      \"ratings\": 3,\n      \"description\": \"A budget-friendly option near the Strip. Expect basic amenities and good value for money. Formerly known as Hooters.\"\n    },\n    {\n      \"hotel_name\": \"Strat Hotel, Casino & Skypod\",\n      \"hotel_address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"hotel_price\": \"Starting from $50/night\",\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/27/4d/97/09/the-strat-hotel-casino.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1472,\n        \"longitude\": -115.1556\n      },\n      \"ratings\": 4,\n      \"description\": \"Offers good value, and while a bit north on the strip, has great views and the Skypod attraction.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"theme\": \"Exploring the Strip & Free Shows\",\n      \"activities\": [\n        {\n          \"place_name\": \"Bellagio Fountains\",\n          \"place_details\": \"Iconic water show with music and lights. Free to watch.\",\n          \"place_image_url\": \"https://media.timeout.com/images/105334093/image.jpg\",\n          \"ticket_pricing\": \"Free\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1743\n          },\n          \"best_time_to_visit\": \"Afternoon or Evening (check show schedule)\",\n          \"travel_time\": \"Walking Distance\"\n        },\n        {\n          \"place_name\": \"The Venetian & Grand Canal Shoppes\",\n          \"place_details\": \"Walk through the stunning Venetian canals and shops, even if you don't buy anything.\",\n          \"place_image_url\": \"https://www.planetware.com/wpimages/2022/01/las-vegas-top-attractions-the-venetian.jpg\",\n          \"ticket_pricing\": \"Free to walk around, gondola rides are paid.\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1691\n          },\n          \"best_time_to_visit\": \"Anytime during the day/evening\",\n          \"travel_time\": \"Walking Distance\"\n        },\n        {\n          \"place_name\": \"Mirage Volcano\",\n          \"place_details\": \"Free show of the volcano eruption with fire and sound effects.\",\n          \"place_image_url\": \"https://www.vegas.com/wp-content/uploads/2017/08/mirage-volcano.jpg\",\n          \"ticket_pricing\": \"Free\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1217,\n            \"longitude\": -115.1724\n          },\n          \"best_time_to_visit\": \"Evening\",\n          \"travel_time\": \"Walking Distance\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"theme\": \"Downtown & Fremont Experience\",\n      \"activities\": [\n        {\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"Light show on a huge screen canopy, street performers, and a lively atmosphere.\",\n          \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/a/a3/Fremont_Street_Experience_2018.jpg\",\n          \"ticket_pricing\": \"Free to walk around, attractions and some shows may have fees.\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1701,\n            \"longitude\": -115.1406\n          },\n          \"best_time_to_visit\": \"Evening for the light show\",\n          \"travel_time\": \"Public transport or Rideshare required (approx. 20-30 minutes from the strip). Consider the bus which is affordable\"\n        },\n        {\n          \"place_name\": \"Container Park\",\n          \"place_details\": \"Unique shopping and dining complex made from shipping containers.\",\n          \"place_image_url\": \"https://www.vegasexperience.com/wp-content/uploads/2022/01/container-park-1.jpg\",\n          \"ticket_pricing\": \"Free to walk around, cost for shopping/dining\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1688,\n            \"longitude\": -115.1391\n          },\n          \"best_time_to_visit\": \"Afternoon or Evening\",\n          \"travel_time\": \"Walking Distance\"\n        },\n        {\n          \"place_name\": \"Downtown Murals\",\n          \"place_details\": \"Explore various unique and colourful murals throughout the downtown area\",\n          \"place_image_url\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_640,q_75,w_640/v1/clients/lasvegas/Downtown_Las_Vegas_Murals_25_09967033_2d1c_4668_8269_29dd01b37b7c.jpg\",\n          \"ticket_pricing\": \"Free\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1688,\n            \"longitude\": -115.1422\n          },\n          \"best_time_to_visit\": \"Anytime during day light hours\",\n          \"travel_time\": \"Walking Distance\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"theme\": \"Nature & Relaxation\",\n      \"activities\": [\n        {\n          \"place_name\": \"Red Rock Canyon National Conservation Area\",\n          \"place_details\": \"Scenic drive with hikes and beautiful desert views.\",\n          \"place_image_url\": \"https://www.nps.gov/redr/planyourvisit/images/Red-Rock-Canyon-overview-web-800px.jpg\",\n          \"ticket_pricing\": \"$15 per vehicle entry (consider carpooling to save money)\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1467,\n            \"longitude\": -115.3802\n          },\n          \"best_time_to_visit\": \"Morning (before it gets too hot)\",\n          \"travel_time\": \"Car or Rideshare (approx. 20-30 minutes from the Strip). Shared rides can help lower costs.\"\n        },\n        {\n          \"place_name\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"place_details\": \"Free self-guided chocolate factory tour and visit to the botanical cactus gardens.\",\n          \"place_image_url\": \"https://www.ethelm.com/media/pages/visit/cache/1440x540-9f2d5d20f689d89c556820163b101790/cacti_9.jpg\",\n          \"ticket_pricing\": \"Free to visit and tour.  Chocolate purchases extra\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.0624,\n            \"longitude\": -115.1012\n          },\n          \"best_time_to_visit\": \"Anytime of the day\",\n          \"travel_time\": \"Car or Rideshare (approx. 15-20 minutes from the Strip)\"\n        },\n        {\n          \"place_name\": \"Pool Time at the hotel\",\n          \"place_details\": \"Relax and enjoy the pool at the chosen hotel.\",\n          \"place_image_url\": \"https://blog.cheapism.com/file/image/jpeg/e10571ad31962461d75a0d3a1e9a51a6f43c003b_pool-at-the-strat.jpeg\",\n          \"ticket_pricing\": \"Free to guest\",\n          \"geo_coordinates\": {\n            \"latitude\": 0,\n            \"longitude\": 0\n          },\n          \"best_time_to_visit\": \"Afternoon\",\n          \"travel_time\": \"Hotel premises\"\n        }\n      ]\n    }\n  ]\n}\n```\n\nI've removed the `\"trip_title\"`, `\"duration\"`, and `\"budget_focus\"` keys from the top level of the JSON object, leaving you with just the `hotels` and `itinerary` arrays.\n" },
            ],
        },
    ],
});

